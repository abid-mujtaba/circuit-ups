% We add an 'lx' command to circuittikz which allows for two-line labels.
%
% Source: http://tex.stackexchange.com/a/65792/50416

\makeatletter
\ctikzset{lx/.code args={#1 and #2}{ 
\pgfkeys{/tikz/circuitikz/bipole/label/name=\parbox{1cm}{\centering #1  \\ #2}}
   \ctikzsetvalof{bipole/label/unit}{}
   \ifpgf@circ@siunitx 
      \pgf@circ@handleSI{#2}
      \ifpgf@circ@siunitx@res 
            \edef\pgf@temp{\pgf@circ@handleSI@val}
            \pgfkeyslet{/tikz/circuitikz/bipole/label/name}{\pgf@temp}
            \edef\pgf@temp{\pgf@circ@handleSI@unit}
            \pgfkeyslet{/tikz/circuitikz/bipole/label/unit}{\pgf@temp}
      \else
      \fi
   \else
   \fi
}}

\ctikzset{lx^/.style args={#1 and #2}{ 
   lx=#2 and #1,
   \circuitikzbasekey/bipole/label/position=90 } 
}

\ctikzset{lx_/.style args={#1 and #2}{ 
   lx=#1 and #2,
   \circuitikzbasekey/bipole/label/position=-90 } 
}
\makeatother
